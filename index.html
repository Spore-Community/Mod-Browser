<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>Spore Mod Browser</title>

    <base href="/ModBrowser/" />

    <link href="style/spore.css" rel="stylesheet" />
    <link href="style/style.css" rel="stylesheet" />
    <link href="style/reusable.css" rel="stylesheet" />
    <link href="style/mod-listing.css" rel="stylesheet" />

    <link href="SporeCommunity.ModBrowser.Blazor.styles.css" rel="stylesheet" />
</head>

<body>
    <header>
        <h1><a href="/">Spore Mod Browser</a></h1>
    </header>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
    </div>

    <div id="app">
        <div class="loading">
            <img src="style/images/galaxy-neutral.png">
            <p>Loading...</p>
        </div>
    </div>

    <script src="scripts.js"></script>

    <script src="decode.js"></script>
    <script src="_framework/blazor.webassembly.js" autostart="false"></script>
    <script>
        Blazor.start({
            loadBootResource: function (type, name, defaultUri, integrity) {
                if (type !== 'dotnetjs' && location.hostname !== 'localhost') {
                    return (async function () {
                        const response = await fetch(defaultUri + '.br', { cache: 'no-cache' });
                        if (!response.ok) {
                            throw new Error(response.statusText);
                        }
                        const originalResponseBuffer = await response.arrayBuffer();
                        const originalResponseArray = new Int8Array(originalResponseBuffer);
                        const decompressedResponseArray = BrotliDecode(originalResponseArray);
                        const contentType = type ===
                            'dotnetwasm' ? 'application/wasm' : 'application/octet-stream';
                        return new Response(decompressedResponseArray,
                            { headers: { 'content-type': contentType } });
                    })();
                }
            }
        });
    </script>


    <footer>
        <p>Maintained by Kyle N. Contact via <a target="_blank" rel="noopener noreferrer" href="https://discord.gg/66jVk3X">Discord</a> or <a href="mailto:spore@kylenanakdewa.com">email</a>.</p>
        <p><strong>Not associated with or endorsed by Electronic Arts or Maxis.</strong></p>
    </footer>
</body>

</html>